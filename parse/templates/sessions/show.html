{% load staticfiles %}
<html ng-app="sessions">
    <head>
        <title>Sessions</title>
        {% include 'static.html' %}
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular-resource.min.js"></script>
        <script src="{% static 'js/app.js' %}"></script>
        <script src="{% static 'js/services.js' %}"></script>
        <script src="{% static 'js/controllers.js' %}"></script>
    </head>
    <body ng-controller="SessionListCtrl">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    {% verbatim %}
                    <h1>Sessions ({{sessions.length }})</h1>
                    {% endverbatim %}
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <table class="table">
                        <tr>
                            <th ng-click="pred='uid'; reverse=!reverse;">
                                <a href="">
                                    UID
                                </a>
                            </th>
                            <th ng-click="pred='start_time'; reverse=!reverse;">
                                <a href="">
                                    Start Time
                                </a>
                            </th>
                            <th ng-click="pred='end_time'; reverse=!reverse;">
                                <a href="">
                                    End Time
                                </a>
                            </th>
                            <th>
                                Active?
                                <input type="checkbox" ng-change="getActive()" ng-model="active"/>
                                <a href="" ng-click="getActive('all')">(All)</a>
                            </th>
                        </tr>
                        {% verbatim %}
                        <tr ng-repeat="session in sessions | orderBy:pred:reverse">
                            <td>{{ session.uid }}</td>
                            <td>{{ session.start_time | date:'medium' }}</td>
                            <td>{{ session.end_time | date:'medium'  }}</td>
                            <td>{{ session.active }}</td>
                        </tr>
                        {% endverbatim %}
                    </table>
                </div>
            </div>
        </div>
    </body>
</html>
